version: "3.1"

intents:
  - greet
  - provide_name
  - mood_positive
  - mood_negative
  - affirm
  - deny
  - book_appointment
  - goodbye
  - bot_challenge
  - fallback

entities:
  - name

slots:
  name:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: name

  appointment_date:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: appointment_form
            requested_slot: appointment_date

  appointment_time:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
          - active_loop: appointment_form
            requested_slot: appointment_time



forms:
  appointment_form:
    required_slots:
      - appointment_date
      - appointment_time

actions:
  - validate_appointment_form
  - action_confirm_appointment
  - action_openai_fallback

responses:
  utter_greet:
    - text: "Hi! I‚Äôm your health support assistant. What‚Äôs your name?"

  utter_ask_mood:
    - text: "Nice to meet you {name}. How are you feeling today?"
    
  utter_ask_appointment_date:
    - text: "üìÖ Please tell me the preferred appointment date."

  utter_ask_appointment_time:
    - text: "‚è∞ What time would you prefer for the appointment?"

  utter_support:
    - text: "I‚Äôm really sorry you‚Äôre feeling this way. You‚Äôre not alone."

  utter_offer_help:
    - text: "Would you like me to help you book an appointment with a health professional?"

  utter_goodbye:
    - text: "Take care of yourself. I‚Äôm always here if you need support."

  utter_iamabot:
    - text: "I‚Äôm an AI-based health support chatbot."
